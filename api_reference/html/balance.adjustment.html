<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>balance.adjustment &#8212; balance  documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="_static/basic.css?v=fb9458d3" />
    <script src="_static/documentation_options.js?v=5929fcd5"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="balance.balancedf_class" href="balance.balancedf_class.html" />
    <link rel="prev" title="balance" href="balance.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="balance.balancedf_class.html" title="balance.balancedf_class"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="balance.html" title="balance"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">balance  documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="balance.html" accesskey="U">balance</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">balance.adjustment</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="module-balance.adjustment">
<span id="balance-adjustment"></span><h1>balance.adjustment<a class="headerlink" href="#module-balance.adjustment" title="Link to this heading">¶</a></h1>
<dl class="py function">
<dt class="sig sig-object py" id="balance.adjustment.apply_transformations">
<span class="sig-prename descclassname"><span class="pre">balance.adjustment.</span></span><span class="sig-name descname"><span class="pre">apply_transformations</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dfs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">pd.DataFrame</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transformations</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">drop</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">pd.DataFrame</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/balance/adjustment.html#apply_transformations"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#balance.adjustment.apply_transformations" title="Link to this definition">¶</a></dt>
<dd><dl>
<dt>Apply the transformations specified in transformations to all of the dfs</dt><dd><ul class="simple">
<li><p>if a column specified in <cite>transformations</cite> does not exist in the dataframes,</p></li>
</ul>
<p>it is added
- if a column is not specified in <cite>transformations</cite>, it is dropped,
unless drop==False
- the dfs are concatenated together before transformations are applied,
so functions like <cite>max</cite> are relative to the column in all dfs
- Cannot transform the same variable twice, or add a variable and then transform it
(i.e. the definition of the added variable should include the transformation)
- if you get a cryptic error about mismatched data types, make sure your
transformations are not being treated as additions because of missing
columns (use <cite>_set_warnings(“DEBUG”)</cite> to check)</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dfs</strong> (<em>Tuple</em><em>[</em><em>pd.DataFrame</em><em>, </em><em>...</em><em>]</em>) – The DataFrames on which to operate</p></li>
<li><p><strong>transformations</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>Callable</em><em>[</em><em>...</em><em>, </em><em>Any</em><em>]</em><em>] </em><em>| </em><em>str</em><em> | </em><em>None</em>) – Mapping from column name to function to apply.
Transformations of existing columns should be specified as functions
of those columns (e.g. <cite>lambda x: x*2</cite>), whereas additions of new
columns should be specified as functions of the DataFrame
(e.g. <cite>lambda x: x.column_a + x.column_b</cite>).</p></li>
<li><p><strong>drop</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to drop columns which are
not specified in <cite>transformations</cite>. Defaults to True.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>NotImplementedError</strong> – When passing an unknown “transformations” argument.</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple of pd.DataFrames</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Tuple[pd.DataFrame, …]</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">balance.adjustment</span><span class="w"> </span><span class="kn">import</span> <span class="n">apply_transformations</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>

<span class="n">apply_transformations</span><span class="p">(</span>
    <span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;d&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="s1">&#39;e&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]}),),</span>
    <span class="p">{</span><span class="s1">&#39;d&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">*</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;f&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">d</span><span class="o">+</span><span class="n">x</span><span class="o">.</span><span class="n">e</span><span class="p">}</span>
<span class="p">)</span>

    <span class="c1"># (   f  d</span>
    <span class="c1">#  0  5  2</span>
    <span class="c1">#  1  7  4</span>
    <span class="c1">#  2  9  6,)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="balance.adjustment.default_transformations">
<span class="sig-prename descclassname"><span class="pre">balance.adjustment.</span></span><span class="sig-name descname"><span class="pre">default_transformations</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dfs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">pd.DataFrame</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">pd.DataFrame</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/balance/adjustment.html#default_transformations"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#balance.adjustment.default_transformations" title="Link to this definition">¶</a></dt>
<dd><p>Apply default transformations to dfs, i.e.
quantize to numeric columns and fct_lump to non-numeric and boolean</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>dfs</strong> (<em>tuple</em><em>[</em><em>pd.DataFrame</em><em>, </em><em>...</em><em>] </em><em>| </em><em>list</em><em>[</em><em>pd.DataFrame</em><em>]</em>) – A list or tuple of dataframes</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dict of transformations</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dict[str, Callable]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="balance.adjustment.trim_weights">
<span class="sig-prename descclassname"><span class="pre">balance.adjustment.</span></span><span class="sig-name descname"><span class="pre">trim_weights</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">weights</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">pd.Series</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">npt.NDArray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weight_trimming_mean_ratio</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weight_trimming_percentile</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep_sum_of_weights</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_sum_weights</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">np.floating</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">pd.Series</span></span></span><a class="reference internal" href="_modules/balance/adjustment.html#trim_weights"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#balance.adjustment.trim_weights" title="Link to this definition">¶</a></dt>
<dd><p>Trim extreme weights using mean ratio clipping or percentile-based winsorization.</p>
<p>The user cannot supply both weight_trimming_mean_ratio and weight_trimming_percentile.
If neither is supplied, the original weights are returned unchanged.</p>
<p><strong>Mean Ratio Trimming (weight_trimming_mean_ratio)</strong>:
When specified, weights are clipped from above at mean(weights) * ratio, then
renormalized to preserve the original mean. This is a hard upper bound.
Note: Final weights may slightly exceed the trimming ratio due to renormalization
redistributing the clipped weight mass across all observations.</p>
<p><strong>Percentile-Based Winsorization (weight_trimming_percentile)</strong>:
When specified, extreme weights are replaced with less extreme values using
scipy.stats.mstats.winsorize. By default, winsorization affects both tails
of the distribution symmetrically, unlike mean ratio trimming which only
clips from above.</p>
<p>Behavior:
- Single value (e.g., 0.1): Winsorizes below 10th AND above 90th percentile
- Tuple (lower, upper): Winsorizes independently on each side</p>
<blockquote>
<div><ul class="simple">
<li><p>(0.1, 0): Only winsorizes below 10th percentile</p></li>
<li><p>(0, 0.1): Only winsorizes above 90th percentile</p></li>
<li><p>(0.01, 0.05): Winsorizes below 1st AND above 95th percentile</p></li>
</ul>
</div></blockquote>
<p>Important implementation detail: Percentile limits are automatically adjusted
upward slightly (via _validate_limit) to ensure at least one value gets
winsorized at boundary percentiles. This prevents edge cases where discrete
distributions or floating-point precision might prevent winsorization at the
exact percentile value. The adjustment is min(2/n_weights, limit/10), capped at 1.0.</p>
<p>After trimming/winsorization, if keep_sum_of_weights=True (default), weights
are rescaled to preserve the original sum of weights.  Alternatively, pass a
<code class="docutils literal notranslate"><span class="pre">target_sum_weights</span></code> to rescale the trimmed weights so their sum matches a
desired total.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>weights</strong> (<em>pd.Series</em><em> | </em><em>np.ndarray</em>) – Weights to trim. np.ndarray will be
converted to pd.Series internally.</p></li>
<li><p><strong>weight_trimming_mean_ratio</strong> (<em>float</em><em> | </em><em>int</em><em> | </em><em>None</em><em>, </em><em>optional</em>) – Ratio for upper bound
clipping as mean(weights) * ratio. Mutually exclusive with
weight_trimming_percentile. Defaults to None.</p></li>
<li><p><strong>weight_trimming_percentile</strong> (<em>float</em><em> | </em><em>tuple</em><em>[</em><em>float</em><em>, </em><em>float</em><em>] </em><em>| </em><em>None</em><em>, </em><em>optional</em>) – <p>Percentile limits for winsorization. Value(s) must be between 0 and 1.
- Single float: Symmetric winsorization on both tails
- tuple[float, float]: (lower_percentile, upper_percentile) for</p>
<blockquote>
<div><p>independent control of each tail</p>
</div></blockquote>
<p>Mutually exclusive with weight_trimming_mean_ratio. Defaults to None.</p>
</p></li>
<li><p><strong>verbose</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to log details about the trimming process.
Defaults to False.</p></li>
<li><p><strong>keep_sum_of_weights</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to rescale weights after trimming
to preserve the original sum of weights. Defaults to True.</p></li>
<li><p><strong>target_sum_weights</strong> (<em>float</em><em> | </em><em>int</em><em> | </em><em>np.floating</em><em> | </em><em>None</em><em>, </em><em>optional</em>) – If
provided, rescale the trimmed weights so their sum equals this
target. <code class="docutils literal notranslate"><span class="pre">None</span></code> (default) leaves the post-trimming sum unchanged.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>TypeError</strong> – If weights is not np.array or pd.Series.</p></li>
<li><p><strong>ValueError</strong> – If both weight_trimming_mean_ratio and weight_trimming_percentile
    are specified, or if weight_trimming_percentile tuple has length != 2.</p></li>
</ul>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Trimmed weights with the same index as input</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>pd.Series (of type float64)</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">balance.adjustment</span><span class="w"> </span><span class="kn">import</span> <span class="n">trim_weights</span>
<span class="nb">print</span><span class="p">(</span><span class="n">trim_weights</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">101</span><span class="p">)),</span> <span class="n">weight_trimming_mean_ratio</span> <span class="o">=</span> <span class="kc">None</span><span class="p">))</span>
    <span class="c1"># 0       1.0</span>
    <span class="c1"># 1       2.0</span>
    <span class="c1"># 2       3.0</span>
    <span class="c1"># 3       4.0</span>
    <span class="c1"># 4       5.0</span>
    <span class="c1">#     ...</span>
    <span class="c1"># 95     96.0</span>
    <span class="c1"># 96     97.0</span>
    <span class="c1"># 97     98.0</span>
    <span class="c1"># 98     99.0</span>
    <span class="c1"># 99    100.0</span>
    <span class="c1"># Length: 100, dtype: float64</span>

<span class="nb">print</span><span class="p">(</span><span class="n">trim_weights</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">101</span><span class="p">)),</span> <span class="n">weight_trimming_mean_ratio</span> <span class="o">=</span> <span class="mf">1.5</span><span class="p">))</span>
    <span class="c1"># 0      1.064559</span>
    <span class="c1"># 1      2.129117</span>
    <span class="c1"># 2      3.193676</span>
    <span class="c1"># 3      4.258235</span>
    <span class="c1"># 4      5.322793</span>
    <span class="c1">#         ...</span>
    <span class="c1"># 95    80.640316</span>
    <span class="c1"># 96    80.640316</span>
    <span class="c1"># 97    80.640316</span>
    <span class="c1"># 98    80.640316</span>
    <span class="c1"># 99    80.640316</span>
    <span class="c1"># Length: 100, dtype: float64</span>

<span class="nb">print</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">trim_weights</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">101</span><span class="p">)),</span> <span class="n">weight_trimming_percentile</span><span class="o">=</span><span class="mf">.01</span><span class="p">)))</span>
    <span class="c1"># 0    2.0</span>
    <span class="c1"># 1    2.0</span>
    <span class="c1"># 2    3.0</span>
    <span class="c1"># 3    4.0</span>
    <span class="c1"># 4    5.0</span>
    <span class="c1"># ..   ...</span>
    <span class="c1"># 95  96.0</span>
    <span class="c1"># 96  97.0</span>
    <span class="c1"># 97  98.0</span>
    <span class="c1"># 98  99.0</span>
    <span class="c1"># 99  99.0</span>
    <span class="c1"># [100 rows x 1 columns]</span>

<span class="nb">print</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">trim_weights</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">101</span><span class="p">)),</span> <span class="n">weight_trimming_percentile</span><span class="o">=</span><span class="p">(</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">.05</span><span class="p">))))</span>
    <span class="c1"># 0    1.002979</span>
    <span class="c1"># 1    2.005958</span>
    <span class="c1"># 2    3.008937</span>
    <span class="c1"># 3    4.011917</span>
    <span class="c1"># 4    5.014896</span>
    <span class="c1"># ..        ...</span>
    <span class="c1"># 95  95.283019</span>
    <span class="c1"># 96  95.283019</span>
    <span class="c1"># 97  95.283019</span>
    <span class="c1"># 98  95.283019</span>
    <span class="c1"># 99  95.283019</span>
</pre></div>
</div>
</dd></dl>

</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">balance.adjustment</a><ul>
<li><a class="reference internal" href="#balance.adjustment.apply_transformations"><code class="docutils literal notranslate"><span class="pre">apply_transformations()</span></code></a></li>
<li><a class="reference internal" href="#balance.adjustment.default_transformations"><code class="docutils literal notranslate"><span class="pre">default_transformations()</span></code></a></li>
<li><a class="reference internal" href="#balance.adjustment.trim_weights"><code class="docutils literal notranslate"><span class="pre">trim_weights()</span></code></a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="balance.html"
                          title="previous chapter">balance</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="balance.balancedf_class.html"
                          title="next chapter">balance.balancedf_class</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/balance.adjustment.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="balance.balancedf_class.html" title="balance.balancedf_class"
             >next</a> |</li>
        <li class="right" >
          <a href="balance.html" title="balance"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">balance  documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="balance.html" >balance</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">balance.adjustment</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    </div>
  </body>
</html>