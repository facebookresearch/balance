<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-docs/changelog" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title data-rh="true">Changelog | balance</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://internalfb.com/docs/docs/changelog/"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Changelog | balance"><meta data-rh="true" name="description" content="TODO: update 0.12.x to 0.13.0 before release."><meta data-rh="true" property="og:description" content="TODO: update 0.12.x to 0.13.0 before release."><link data-rh="true" rel="icon" href="/img/balance_logo/icon.png"><link data-rh="true" rel="canonical" href="https://internalfb.com/docs/docs/changelog/"><link data-rh="true" rel="alternate" href="https://internalfb.com/docs/docs/changelog/" hreflang="en"><link data-rh="true" rel="alternate" href="https://internalfb.com/docs/docs/changelog/" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="balance RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="balance Atom Feed">






<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.f1da0727.css">
<link rel="preload" href="/assets/js/runtime~main.642e809b.js" as="script">
<link rel="preload" href="/assets/js/main.d5121f8e.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script>
<div style="display: none; text-align: center; background-color: white; color: black;" id="internaldocs-banner"></div><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/balance_logo/icon.svg" alt="balance Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/balance_logo/icon.svg" alt="balance Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">balance</b></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/blog/">Blog</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/docs/overview/">Docs</a><a class="navbar__item navbar__link" href="/docs/tutorials/">Tutorials</a><a class="navbar__item navbar__link" href="/docs/api_reference/">API Reference</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/docs/changelog/">Changelog</a><a href="https://github.com/facebookresearch/balance" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="searchBox_ZlJk"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/docs/overview/">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/docs/docs/changelog/">Changelog</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/docs/general_framework/">General Framework</a><button aria-label="Toggle the collapsible sidebar category &#x27;General Framework&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/docs/statistical_methods/">Statistical Methods</a><button aria-label="Toggle the collapsible sidebar category &#x27;Statistical Methods&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/docs/contributing/">Contributing</a></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Changelog</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>0.12.x (2025-11-21)</h1><blockquote><p>TODO: update 0.12.x to 0.13.0 before release.</p></blockquote><h2 class="anchor anchorWithStickyNavbar_LWe7" id="new-features">New Features<a href="#new-features" class="hash-link" aria-label="Direct link to New Features" title="Direct link to New Features">​</a></h2><ul><li><strong>Raking algorithm refactor</strong><ul><li>Removed <code>ipfn</code> dependency and replaced with a vectorized NumPy
implementation (<code>_run_ipf_numpy</code>) for iterative proportional fitting,
resulting in significant performance improvements and eliminating external
dependency (<a href="https://github.com/facebookresearch/balance/pull/135" target="_blank" rel="noopener noreferrer">#135</a>).</li></ul></li><li><strong>Propensity modeling flexibility</strong><ul><li><code>ipw()</code> now accepts any sklearn classifier via the <code>model</code> argument and
deprecates the old <code>sklearn_model</code> alias, enabling the use of models like
random forests while preserving all existing trimming and diagnostic
workflows. Dense-only estimators and models without linear coefficients are
fully supported, and propensity probabilities are stabilized to avoid
numerical issues.</li><li>Implemented logistic regression customization by passing a configured
:class:<code>~sklearn.linear_model.LogisticRegression</code> instance through the
<code>model</code> argument; the CLI now accepts <code>--ipw_logistic_regression_kwargs</code>
JSON to build that estimator directly for command-line workflows.</li></ul></li><li><strong>Covariate diagnostics</strong><ul><li>Added KL divergence calculations for covariate comparisons (numeric and
one-hot categorical), exposed via <code>BalanceDF.kld()</code> alongside linked-sample
aggregation support.</li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="documentation">Documentation<a href="#documentation" class="hash-link" aria-label="Direct link to Documentation" title="Direct link to Documentation">​</a></h2><ul><li>Added comprehensive post-stratification tutorial notebook
(<code>balance_quickstart_poststratify.ipynb</code>)
(<a href="https://github.com/facebookresearch/balance/pull/141" target="_blank" rel="noopener noreferrer">#141</a>,
<a href="https://github.com/facebookresearch/balance/pull/142" target="_blank" rel="noopener noreferrer">#142</a>,
<a href="https://github.com/facebookresearch/balance/pull/143" target="_blank" rel="noopener noreferrer">#143</a>).</li><li>Expanded poststratify docstring with clear examples and improved statistical
methods documentation
(<a href="https://github.com/facebookresearch/balance/pull/141" target="_blank" rel="noopener noreferrer">#141</a>).</li><li>Added project badges to README for build status, Python version support, and
release tracking
(<a href="https://github.com/facebookresearch/balance/pull/145" target="_blank" rel="noopener noreferrer">#145</a>).</li><li>Added IPW quickstart tutorial showcasing default logistic regression and
custom sklearn classifier usage in (<code>balance_quickstart.ipynb</code>).</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="code-quality--refactoring">Code Quality &amp; Refactoring<a href="#code-quality--refactoring" class="hash-link" aria-label="Direct link to Code Quality &amp; Refactoring" title="Direct link to Code Quality &amp; Refactoring">​</a></h2><ul><li><strong>IPW method refactoring</strong><ul><li>Reduced Cyclomatic Complexity Number (CCN) by extracting repeated code
patterns into reusable helper functions:<ul><li>Added <code>_compute_deviance()</code> to consolidate <code>2 * log_loss(...)</code> pattern
(used 4+ times)</li><li>Added <code>_compute_proportion_deviance()</code> to consolidate <code>1 - dev/null_dev</code>
pattern</li><li>Added <code>_convert_to_dense_array()</code> to consolidate sparse-to-dense matrix
conversion pattern (CSC→CSR→dense)</li></ul></li><li>Improved code maintainability by eliminating duplication in deviance
calculations and matrix conversions</li><li>Fixed TODO: Removed manual ASMD improvement calculation and now uses
existing <code>compute_asmd_improvement()</code> from <code>weighted_comparisons_stats.py</code></li></ul></li><li><strong>Type safety improvements</strong><ul><li><strong>Pyre-strict migration</strong>: Converted 32 Python files from <code># pyre-unsafe</code> to
<code># pyre-strict</code> mode, significantly improving type safety across the
codebase. Files converted include core modules (<code>__init__.py</code>,
<code>adjustment.py</code>, <code>balancedf_class.py</code>, <code>cli.py</code>, <code>sample_class.py</code>,
<code>util.py</code>, <code>typing.py</code>), statistics modules
(<code>stats_and_plots/general_stats.py</code>, <code>stats_and_plots/weighted_stats.py</code>,
<code>stats_and_plots/weighted_comparisons_plots.py</code>,
<code>stats_and_plots/weighted_comparisons_stats.py</code>,
<code>stats_and_plots/weights_stats.py</code>), weighting methods
(<code>weighting_methods/cbps.py</code>, <code>weighting_methods/ipw.py</code>,
<code>weighting_methods/poststratify.py</code>, <code>weighting_methods/rake.py</code>), datasets
module (<code>datasets/__init__.py</code>), and test files
(<code>parent_balance/tests/test_adjust_null.py</code>,
<code>parent_balance/tests/test_adjustment.py</code>,
<code>parent_balance/tests/test_cbps.py</code>, <code>parent_balance/tests/test_cli.py</code>,
<code>parent_balance/tests/test_datasets.py</code>, <code>parent_balance/tests/test_ipw.py</code>,
<code>parent_balance/tests/test_logging.py</code>,
<code>parent_balance/tests/test_poststratify.py</code>,
<code>parent_balance/tests/test_rake.py</code>, <code>parent_balance/tests/test_sample.py</code>,
<code>parent_balance/tests/test_stats_and_plots.py</code>,
<code>parent_balance/tests/test_testutil.py</code>,
<code>parent_balance/tests/test_util.py</code>)</li><li><strong>Modernized type hints to PEP 604 syntax</strong>: Updated all type annotations
across 11 files to use the newer PEP 604 union syntax (<code>X | Y</code> instead of
<code>Union[X, Y]</code> and <code>X | None</code> instead of <code>Optional[X]</code>), improving code
readability and aligning with Python 3.10+ typing conventions. Updated
<code>from __future__ import</code> statements to use <code>annotations</code> instead of the
older <code>absolute_import, division, print_function, unicode_literals</code>. Removed
unnecessary <code>Union</code> and <code>Optional</code> imports from <code>typing</code>. Files updated:
<code>__init__.py</code>, <code>adjustment.py</code>, <code>balancedf_class.py</code>, <code>cli.py</code>,
<code>datasets/__init__.py</code>, <code>sample_class.py</code>,
<code>stats_and_plots/weighted_comparisons_stats.py</code>,
<code>stats_and_plots/weighted_stats.py</code>, <code>stats_and_plots/weights_stats.py</code>,
<code>util.py</code>, <code>weighting_methods/ipw.py</code>.</li><li><strong>Important compatibility note</strong>: Type alias definitions in <code>typing.py</code>
retain <code>Union</code> syntax for Python 3.9 compatibility, as the <code>|</code> operator for
type aliases only works at runtime in Python 3.10+. Added comprehensive
inline documentation explaining this limitation and the distinction between
type annotations (which support <code>|</code> with
<code>from __future__ import annotations</code>) and type alias assignments (which
require <code>Union</code> for runtime evaluation in Python 3.9).</li><li><strong>Enhanced type safety for plotting functions</strong>: Replaced loose dictionary
type hints with structured <code>TypedDict</code> definition (<code>DataFrameWithWeight</code>)
for better type checking in <code>weighted_comparisons_plots.py</code>. Added
<code>SampleName</code> type alias to precisely specify valid sample name literals.
Removed numerous <code># pyre-ignore</code> comments by properly handling type casts
and narrowing types. Added validation for plotly <code>dist_type</code> parameter to
raise clear errors when unsupported types are used.</li><li>Fixed missing <code>Any</code> import in <code>weighted_comparisons_plots.py</code> to resolve
pyre-fixme<!-- -->[10]<!-- --> error</li><li>Added comprehensive type annotations for previously untyped parameters and
return values throughout the codebase</li><li>Fixed type casts and narrowed types where appropriate</li><li>Initialized optional variables to handle pyre-fixme<!-- -->[61]<!-- --> issues</li><li>Updated method signatures to match parent class interfaces</li><li><strong>Replaced assert-based type narrowing with <code>_verify_value_type()</code> helper</strong>:
Refactored code to use the <code>_verify_value_type()</code> utility function instead
of bare <code>assert x is not None</code> statements for type narrowing. This improves
code clarity, provides better error messages, and follows best practices for
pyre-strict mode. Enhanced <code>_verify_value_type()</code> in <code>testutil.py</code> with
optional type checking via <code>isinstance()</code> and improved overload signatures.
Changes applied to test files (<code>test_datasets.py</code>, <code>test_sample.py</code>,
<code>test_stats_and_plots.py</code>, <code>test_testutil.py</code>, <code>test_util.py</code>,
<code>test_weighted_comparisons_plots.py</code>) and production code (<code>ipw.py</code>).</li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="bug-fixes">Bug Fixes<a href="#bug-fixes" class="hash-link" aria-label="Direct link to Bug Fixes" title="Direct link to Bug Fixes">​</a></h2><ul><li><strong>Utility Functions</strong><ul><li>Improved <code>quantize</code> function: preserves column ordering and replaces
assertions with proper TypeError exceptions
(<a href="https://github.com/facebookresearch/balance/pull/133" target="_blank" rel="noopener noreferrer">#133</a>).</li></ul></li><li><strong>Statistical Functions</strong><ul><li><strong>Fixed division by zero in <code>asmd_improvement()</code></strong>: Added safety check to
prevent RuntimeWarning when <code>asmd_mean_before</code> is zero or very close to zero
(&lt; 1e-10). The function now returns <code>0.0</code> (representing 0% improvement) when
the sample was already perfectly matched to the target before adjustment,
which is the semantically correct result. This eliminates the &quot;invalid value
encountered in scalar divide&quot; warning that appeared in test runs.</li></ul></li><li><strong>Weighting Methods</strong><ul><li><code>rake()</code> and <code>poststratify()</code> now honour <code>weight_trimming_mean_ratio</code> and
<code>weight_trimming_percentile</code>, trimming and renormalising weights through the
enhanced <code>trim_weights(..., target_sum_weights=...)</code> API so the documented
parameters work as expected
(<a href="https://github.com/facebookresearch/balance/pull/147" target="_blank" rel="noopener noreferrer">#147</a>).</li></ul></li><li><strong>CLI &amp; Infrastructure</strong><ul><li>Replaced deprecated argparse FileType with pathlib.Path, eliminating
PendingDeprecationWarning
(<a href="https://github.com/facebookresearch/balance/pull/134" target="_blank" rel="noopener noreferrer">#134</a>).</li></ul></li><li><strong>Weight Trimming</strong><ul><li>Ensured both <code>weight_trimming_mean_ratio</code> and <code>weight_trimming_percentile</code>
paths in <code>trim_weights()</code> return <code>pd.Series</code> with <code>dtype=np.float64</code> and
preserve the original index.</li><li><strong>Fixed edge case in percentile-based winsorization</strong>: <code>_validate_limit()</code>
now automatically adjusts percentile limits upward by
<code>min(2/n_weights, limit/10)</code> (capped at 1.0) before passing them to
<code>scipy.stats.mstats.winsorize</code>. This prevents edge cases where discrete data
distributions or floating-point precision issues could prevent winsorization
at exact boundary percentiles, ensuring at least one value gets winsorized
when a non-zero limit is specified
(<a href="https://github.com/facebookresearch/balance/issues/144" target="_blank" rel="noopener noreferrer">#144</a>).</li><li><strong>Improved documentation</strong>: Enhanced docstrings for <code>trim_weights()</code> and
<code>_validate_limit()</code> to clearly explain the automatic limit adjustment
mechanism, provide concrete examples of percentile behavior (e.g., how
single values vs. tuples work), and document the relationship between mean
ratio trimming and percentile-based winsorization.</li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="tests">Tests<a href="#tests" class="hash-link" aria-label="Direct link to Tests" title="Direct link to Tests">​</a></h2><ul><li>Enhanced test coverage for weight trimming:<ul><li>Added <code>test_trim_weights_return_type_consistency</code> to validate that both
trimming methods return <code>pd.Series</code> with <code>dtype=np.float64</code> and preserve
indices.</li><li>Added 11 comprehensive tests for <code>_validate_limit()</code> covering normal
operation, edge cases, error conditions, type handling, and boundary
conditions.</li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="contributors">Contributors<a href="#contributors" class="hash-link" aria-label="Direct link to Contributors" title="Direct link to Contributors">​</a></h2><p>@neuralsorcerer, @talgalili, @wesleytlee</p><h1>0.12.1 (2025-11-03)</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="new-features-1">New Features<a href="#new-features-1" class="hash-link" aria-label="Direct link to New Features" title="Direct link to New Features">​</a></h2><ul><li>Added a welcome message when importing the package.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="documentation-1">Documentation<a href="#documentation-1" class="hash-link" aria-label="Direct link to Documentation" title="Direct link to Documentation">​</a></h2><ul><li>Added &#x27;CHANGELOG&#x27; to the docs website.
<a href="https://import-balance.org/docs/docs/CHANGELOG/" target="_blank" rel="noopener noreferrer">https://import-balance.org/docs/docs/CHANGELOG/</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="bug-fixes-1">Bug Fixes<a href="#bug-fixes-1" class="hash-link" aria-label="Direct link to Bug Fixes" title="Direct link to Bug Fixes">​</a></h2><ul><li><p>Fixed plotly figures in all the tutorials.
<a href="https://import-balance.org/docs/tutorials/" target="_blank" rel="noopener noreferrer">https://import-balance.org/docs/tutorials/</a></p><h1>0.12.0 (2025-10-14)</h1></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="new-features-2">New Features<a href="#new-features-2" class="hash-link" aria-label="Direct link to New Features" title="Direct link to New Features">​</a></h2><ul><li><strong>Support for Python 3.13 + 3.14</strong><ul><li>Update setup.py and CI/CD integration to include Python 3.13 and 3.14.</li><li>Remove upper version constraints from numpy, pandas, scipy, and scikit-learn
dependencies for Python 3.12+.</li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="contributors-1">Contributors<a href="#contributors-1" class="hash-link" aria-label="Direct link to Contributors" title="Direct link to Contributors">​</a></h2><p>@talgalili, @wesleytlee</p><h1>0.11.0 (2025-09-24)</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="new-features-3">New Features<a href="#new-features-3" class="hash-link" aria-label="Direct link to New Features" title="Direct link to New Features">​</a></h2><ul><li><strong>Python 3.12 support</strong> - Complete support for Python 3.12 alongside existing
Python 3.9, 3.10, and 3.11 support (with CI/CD integration).<ul><li><strong>Implemented Python version-specific dependency constraints</strong> - Added
conditional version ranges for numpy, pandas, scipy, and scikit-learn that
vary based on Python version (e.g., numpy&gt;=1.21.0,&lt;2.0 for Python &lt;3.12,
numpy&gt;=1.24.0,&lt;2.1 for Python &gt;=3.12)</li><li><strong>Pandas compatibility improvements</strong> - Replaced
<code>value_counts(dropna=False)</code> with <code>groupby().size()</code> in frequency table
creation to avoid FutureWarning</li><li>Fixed various pandas deprecation warnings and improved DataFrame handling</li></ul></li><li><strong>Improved raking algorithm</strong> - Completely refactored rake weighting from
DataFrame-based to array-based ipfn algorithm using multi-dimensional arrays
and itertools for better performance and compatibility with latest Python
versions. <strong>Variables are now automatically alphabetized</strong> to ensure
consistent results regardless of input order.</li><li><strong>poststratify method enhancement</strong> - New <code>strict_matching</code> parameter (default
True) handles cases where sample cells are not present in target data. When
False, issues warning and assigns weight 0 to uncovered samples</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="bug-fixes-2">Bug Fixes<a href="#bug-fixes-2" class="hash-link" aria-label="Direct link to Bug Fixes" title="Direct link to Bug Fixes">​</a></h2><ul><li><strong>Type annotations</strong> - Enhanced Pyre type hints throughout the codebase,
particularly in utility functions</li><li><strong>Sample class improvements</strong> - Fixed weight type assignment (ensuring float64
type), improved DataFrame manipulation with <code>.infer_objects(copy=False)</code> for
pandas compatibility, and enhanced weight setting logic</li><li><strong>Website dependencies</strong> - Updated various website dependencies including
Docusaurus and related packages</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="tests-1">Tests<a href="#tests-1" class="hash-link" aria-label="Direct link to Tests" title="Direct link to Tests">​</a></h2><p><strong>Comprehensive test refactoring</strong>, including:</p><ul><li><strong>Enhanced test validation</strong> - Added detailed explanations of test
methodologies and expected behaviors in docstrings</li><li><strong>Improved test coverage</strong> - Tests now include edge cases like NaN handling,
different data types, and error conditions</li><li><strong>Improved test organization</strong> (more granular) across all test modules
(test_stats_and_plots.py, test_balancedf.py, test_ipw.py, test_rake.py,
test_cli.py, test_weighted_comparisons_plots.py, test_cbps.py,
test_testutil.py, test_adjustment.py, test_util.py, test_sample.py)</li><li><strong>Updated GitHub workflows</strong> to include Python 3.12 in build and test matrix</li><li><strong>Fix 261 &quot;pandas deprecation&quot; warnings!</strong></li><li><strong>Added type annotations</strong> - Converted test_balancedf.py to pyre-strict with.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="documentation-2">Documentation<a href="#documentation-2" class="hash-link" aria-label="Direct link to Documentation" title="Direct link to Documentation">​</a></h2><ul><li><strong>GitHub issue template for support questions</strong> - Added structured template to
help users ask questions about using the balance package</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="contributors-2">Contributors<a href="#contributors-2" class="hash-link" aria-label="Direct link to Contributors" title="Direct link to Contributors">​</a></h2><p>@talgalili, @wesleytlee, @dependabot</p><h1>0.10.0 (2025-01-06)</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="new-features-4">New Features<a href="#new-features-4" class="hash-link" aria-label="Direct link to New Features" title="Direct link to New Features">​</a></h2><ul><li>Dependency on glmnet has been removed, and the <code>ipw</code> method now uses sklearn.</li><li>The transition to sklearn should enable support for newer python versions
(3.11) as well as the Windows OS!</li><li><code>ipw</code> method uses logistic regression with<!-- --> <a href="https://internalfb.com/L2" target="_blank" rel="noopener noreferrer">L2</a>-<!-- -->penalties instead of<a href="https://internalfb.com/L1" target="_blank" rel="noopener noreferrer">L1</a>-<!-- -->penalties for computational reasons. The transition from glmnet to sklearn
and use of<!-- --> <a href="https://internalfb.com/L2" target="_blank" rel="noopener noreferrer">L2</a>-<!-- -->penalties will lead to slightly different generated weights
compared to previous versions of Balance.</li><li>Unfortunately, the sklearn-based <code>ipw</code> method is generally slower than the
previous version by 2-5x. Consider using the new arguments <code>lambda_min</code>,
<code>lambda_max</code>, and <code>num_lambdas</code> for a more efficient search over the <code>ipw</code>
penalization space.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="misc">Misc<a href="#misc" class="hash-link" aria-label="Direct link to Misc" title="Direct link to Misc">​</a></h2><ul><li>Update license from GPL v2 to
<a href="https://github.com/facebookresearch/balance/blob/main/LICENSE" target="_blank" rel="noopener noreferrer">MIT license</a>.</li><li>Updated Python and package compatibility. Balance is now compatible with
Python 3.11, but no longer compatible with Python 3.8 due to typing errors.
Balance is currently incompatible with Python 3.12 due to the removal of
distutils.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="contributors-3">Contributors<a href="#contributors-3" class="hash-link" aria-label="Direct link to Contributors" title="Direct link to Contributors">​</a></h2><p>@wesleytlee, @talgalili, @SarigT</p><h1>0.9.1 (2023-07-30)</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="bug-fixes-3">Bug Fixes<a href="#bug-fixes-3" class="hash-link" aria-label="Direct link to Bug Fixes" title="Direct link to Bug Fixes">​</a></h2><ul><li>Fix E721 flake8 issue (see:
<a href="https://github.com/facebookresearch/balance/actions/runs/5704381365/job/15457952704" target="_blank" rel="noopener noreferrer">https://github.com/facebookresearch/balance/actions/runs/5704381365/job/15457952704</a>)</li><li>Remove support for python 3.11 from release.yml</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="documentation-3">Documentation<a href="#documentation-3" class="hash-link" aria-label="Direct link to Documentation" title="Direct link to Documentation">​</a></h2><ul><li><p>Added links to presentation given at ISA 2023.</p></li><li><p>Fixed misc typos.</p><h1>0.9.0 (2023-05-22)</h1></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="news">News<a href="#news" class="hash-link" aria-label="Direct link to News" title="Direct link to News">​</a></h2><ul><li>Remove support for python 3.11 due to new test failures. This will be the case
until glmnet will be replaced by sklearn. hopefully before end of year.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="new-features-5">New Features<a href="#new-features-5" class="hash-link" aria-label="Direct link to New Features" title="Direct link to New Features">​</a></h2><ul><li>All plotly functions: add kwargs to pass arguments to update_layout in all
plotly figures. This is useful to control width and height of the plot. For
example, when wanting to save a high resolution of the image.</li><li>Add a <code>summary</code> methods to <code>BalanceWeightsDF</code> (i.e.:
<code>Sample.weights().summary()</code>) to easily get access to summary statistics of
the survey weights. Also, it means that <code>Sample.diagnostics()</code> now uses this
new summary method in its internal implementation.</li><li><code>BalanceWeightsDF.plot</code> method now relies on the default <code>BalanceDF.plot</code>
method. This means that instead of a static seaborn kde plot we&#x27;ll get an
interactive plotly version.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="bug-fixes-4">Bug Fixes<a href="#bug-fixes-4" class="hash-link" aria-label="Direct link to Bug Fixes" title="Direct link to Bug Fixes">​</a></h2><ul><li>datasets<ul><li>Remove a no-op in <code>load_data</code> and accommodate deprecation of pandas syntax
by using a list rather than a set when selecting df columns (thanks @ahakso
for the PR).</li><li>Make the outcome variable (<code>happiness</code>) be properly displayed in the
tutorials (so we can see the benefit of the weighting process). This
included fixing the simulation code in the target.</li></ul></li><li>Fix <code>Sample.outcomes().summary()</code> so it will output the ci columns without
truncating them.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="documentation-4">Documentation<a href="#documentation-4" class="hash-link" aria-label="Direct link to Documentation" title="Direct link to Documentation">​</a></h2><ul><li>Fix text based on updated from version 0.7.0 and 0.8.0.<ul><li><a href="https://import-balance.org/docs/docs/general_framework/adjusting_sample_to_population/" target="_blank" rel="noopener noreferrer">https://import-balance.org/docs/docs/general_framework/adjusting_sample_to_population/</a></li></ul></li><li>Fix tutorials to include the outcome in the target.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="contributors-4">Contributors<a href="#contributors-4" class="hash-link" aria-label="Direct link to Contributors" title="Direct link to Contributors">​</a></h2><p>@talgalili, @SarigT, @ahakso</p><h1>0.8.0 (2023-04-26)</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="new-features-6">New Features<a href="#new-features-6" class="hash-link" aria-label="Direct link to New Features" title="Direct link to New Features">​</a></h2><ul><li>Add <code>rake</code> method to .adjust (currently in beta, given that it doesn&#x27;t handles
marginal target as input).</li><li>Add a new function <code>prepare_marginal_dist_for_raking</code> - to take in a dict of
marginal proportions and turn them into a pandas DataFrame. This can serve as
an input target population for raking.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="misc-1">Misc<a href="#misc-1" class="hash-link" aria-label="Direct link to Misc" title="Direct link to Misc">​</a></h2><ul><li>The <code>ipw</code> function now gets max_de=None as default (instead of 1.5). This
version is faster, and the user can still choose a threshold as desired.</li><li>Adding hex stickers graphics files</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="documentation-5">Documentation<a href="#documentation-5" class="hash-link" aria-label="Direct link to Documentation" title="Direct link to Documentation">​</a></h2><ul><li>New section on
<a href="https://import-balance.org/docs/docs/statistical_methods/rake/" target="_blank" rel="noopener noreferrer">raking.</a></li><li>New notebook (in the tutorial section):<ul><li><a href="https://import-balance.org/docs/tutorials/quickstart_rake/" target="_blank" rel="noopener noreferrer"><strong>quickstart_rake</strong></a> -
like the
<a href="https://import-balance.org/docs/tutorials/quickstart/" target="_blank" rel="noopener noreferrer"><strong>quickstart</strong></a>
tutorial, but shows how to use the rake (raking) algorithm and compares the
results to IPW (logistic regression with LASSO).</li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="contributors-5">Contributors<a href="#contributors-5" class="hash-link" aria-label="Direct link to Contributors" title="Direct link to Contributors">​</a></h2><p>@talgalili, @SarigT</p><h1>0.7.0 (2023-04-10)</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="new-features-7">New Features<a href="#new-features-7" class="hash-link" aria-label="Direct link to New Features" title="Direct link to New Features">​</a></h2><ul><li>Add <code>plotly_plot_density</code> function: Plots interactive density plots of the
given variables using kernel density estimation.</li><li>Modified <code>plotly_plot_dist</code> and <code>plot_dist</code> to also support &#x27;kde&#x27; plots. Also,
these are now the default options. This automatically percolates to
<code>BalanceDF.plot()</code> methods.</li><li><code>Sample.from_frame</code> can now guess that a column called &quot;weights&quot; is a weight
column (instead of only guessing so if the column is called &quot;weight&quot;).</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="bug-fixes-5">Bug Fixes<a href="#bug-fixes-5" class="hash-link" aria-label="Direct link to Bug Fixes" title="Direct link to Bug Fixes">​</a></h2><ul><li>Fix <code>rm_mutual_nas</code>: it now remembers the index of pandas.Series that were
used as input. This fixed erroneous plots produced by seaborn functions which
uses rm_mutual_nas.</li><li>Fix <code>plot_hist_kde</code> to work when dist_type = &quot;ecdf&quot;</li><li>Fix <code>plot_hist_kde</code> and <code>plot_bar</code> when having an input only with &quot;self&quot; and
&quot;target&quot;, by fixing <code>_return_sample_palette</code>.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="misc-2">Misc<a href="#misc-2" class="hash-link" aria-label="Direct link to Misc" title="Direct link to Misc">​</a></h2><ul><li>All plotting functions moved internally to expect weight column to be called
<code>weight</code>, instead of <code>weights</code>.</li><li>All adjust (ipw, cbps, poststratify, null) functions now export a dict with a
key called <code>weight</code> instead of <code>weights</code>.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="contributors-6">Contributors<a href="#contributors-6" class="hash-link" aria-label="Direct link to Contributors" title="Direct link to Contributors">​</a></h2><p>@talgalili, @SarigT</p><h1>0.6.0 (2023-04-05)</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="new-features-8">New Features<a href="#new-features-8" class="hash-link" aria-label="Direct link to New Features" title="Direct link to New Features">​</a></h2><ul><li>Variance of the weighted mean<ul><li>Add the <code>var_of_weighted_mean</code> function (from
balance.stats_and_plots.weighted_stats import var_of_weighted_mean):
Computes the variance of the weighted average (pi estimator for ratio-mean)
of a list of values and their corresponding weights.<ul><li>Added the <code>var_of_mean</code> option to stat in the <code>descriptive_stats</code> function
(based on <code>var_of_weighted_mean</code>)</li><li>Added the <code>.var_of_mean()</code> method to BalanceDF.</li></ul></li><li>Add the <code>ci_of_weighted_mean</code> function (from
balance.stats_and_plots.weighted_stats import ci_of_weighted_mean): Computes
the confidence intervals of the weighted mean using the (just added)
variance of the weighted mean.<ul><li>Added the <code>ci_of_mean</code> option to stat in the <code>descriptive_stats</code> function
(based on <code>ci_of_weighted_mean</code>). Also added kwargs support.</li><li>Added the <code>.ci_of_mean()</code> method to BalanceDF.</li><li>Added the <code>.mean_with_ci()</code> method to BalanceDF.</li><li>Updated <code>.summary()</code> methods to include the output of <code>ci_of_mean</code>.</li></ul></li></ul></li><li>All bar plots now have an added ylim argument to control the limits of the y
axis. For example use:
<code>plot_dist(dfs1, names=[&quot;self&quot;, &quot;unadjusted&quot;, &quot;target&quot;], ylim = (0,1))</code> Or
this: <code>s3_null.covars().plot(ylim = (0,1))</code></li><li>Improve &#x27;choose_variables&#x27; function to control the order of the returned
variables<ul><li>The return type is now a list (and not a Tuple)</li><li>The order of the returned list is based on the variables argument. If it is
not supplied, it is based on the order of the column names in the
DataFrames. The df_for_var_order arg controls which df to use.</li></ul></li><li>Misc<ul><li>The <code>_prepare_input_model_matrix</code> and downstream functions (e.g.:
<code>model_matrix</code>, <code>sample.outcomes().mean()</code>, etc) can now handle DataFrame
with special characters in the column names, by replacing special characters
with &#x27;<!-- -->_<!-- -->&#x27; (or &#x27;<!-- -->_<!-- -->i&#x27;, if we end up with columns with duplicate names). It
also handles cases in which the column names have duplicates (using the new
<code>_make_df_column_names_unique</code> function).</li><li>Improve choose_variables to control the order of the returned variables<ul><li>The return type is now a list (and not a Tuple)</li><li>The order of the returned list is based on the variables argument. If it
is not supplied, it is based on column names in the DataFrames. The
df_for_var_order arg controls which df to use.</li></ul></li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="contributors-7">Contributors<a href="#contributors-7" class="hash-link" aria-label="Direct link to Contributors" title="Direct link to Contributors">​</a></h2><p>@talgalili, @SarigT</p><h1>0.5.0 (2023-03-06)</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="new-features-9">New Features<a href="#new-features-9" class="hash-link" aria-label="Direct link to New Features" title="Direct link to New Features">​</a></h2><ul><li>The <code>datasets.load_data</code> function now also supports the input &quot;sim_data_cbps&quot;,
which loads the simulated data used in the CBPS R vs Python tutorial. It is
also used in unit-testing to compare the CBPS weights produced from Python
(i.e.: balance) with R (i.e.: the CBPS package). The testing shows how the
correlation of the weights from the two implementations (both Pearson and
Spearman) produce a correlation of &gt;0.98.</li><li>cli improvements:<ul><li>Add an option to set formula (as string) in the cli.</li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="documentation-6">Documentation<a href="#documentation-6" class="hash-link" aria-label="Direct link to Documentation" title="Direct link to Documentation">​</a></h2><ul><li>New notebook (in the tutorial section):<ul><li>Comparing results of fitting CBPS between R&#x27;s <code>CBPS</code> package and Python&#x27;s
<code>balance</code> package (using simulated data).
<a href="https://import-balance.org/docs/tutorials/comparing_cbps_in_r_vs_python_using_sim_data/" target="_blank" rel="noopener noreferrer">link</a></li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="contributors-8">Contributors<a href="#contributors-8" class="hash-link" aria-label="Direct link to Contributors" title="Direct link to Contributors">​</a></h2><p>@stevemandala, @talgalili, @SarigT</p><h1>0.4.0 (2023-02-08)</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="new-features-10">New Features<a href="#new-features-10" class="hash-link" aria-label="Direct link to New Features" title="Direct link to New Features">​</a></h2><ul><li>Added two new flags to the cli:<ul><li><code>--standardize_types</code>: This gives cli users the ability to set the
<code>standardize_types</code> parameter in Sample.from_frame to True or False. To
learn more about this parameter, see:
<a href="https://import-balance.org/api_reference/html/balance.sample_class.html#balance.sample_class.Sample.from_frame" target="_blank" rel="noopener noreferrer">https://import-balance.org/api_reference/html/balance.sample_class.html#balance.sample_class.Sample.from_frame</a></li><li><code>--return_df_with_original_dtypes</code>: the Sample object now stores the dtypes
of the original df that was read using Sample.from_frame. This can be used
to restore the original dtypes of the file output from the cli. This is
relevant in cases in which we want to convert back the dtypes of columns
from how they are stored in Sample, to their original types (e.g.: if
something was Int32 it would be turned in float32 in balance.Sample, and
using the new flag will return that column, when using the cli, to be back
in the Int32 type). This feature may not be robust to various edge cases. So
use with caution.</li></ul></li><li>In the logging:<ul><li>Added warnings about dtypes changes. E.g.: if using Sample.from_frame with a
column that has Int32, it will be turned into float32 in the internal
storage of sample. Now there will be a warning message indicating of this
change.</li><li>Increase the default length of logger printing (from 500 to 2000)</li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="bug-fixes-6">Bug Fixes<a href="#bug-fixes-6" class="hash-link" aria-label="Direct link to Bug Fixes" title="Direct link to Bug Fixes">​</a></h2><ul><li>Fix pandas warning: SettingWithCopyWarning in from_frame (and other places in
sample_class.py)</li><li>sample.from_frame has a new argument <code>use_deepcopy</code> to decide if changes made
to the df inside the sample object would also change the original df that was
provided to the sample object. The default is now set to <code>True</code> since it&#x27;s
more likely that we&#x27;d like to keep the changes inside the sample object to the
df contained in it, and not have them spill into the original df.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="contributors-9">Contributors<a href="#contributors-9" class="hash-link" aria-label="Direct link to Contributors" title="Direct link to Contributors">​</a></h2><p>@SarigT, @talgalili</p><h1>0.3.1 (2023-02-01)</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="bug-fixes-7">Bug Fixes<a href="#bug-fixes-7" class="hash-link" aria-label="Direct link to Bug Fixes" title="Direct link to Bug Fixes">​</a></h2><ul><li>Sample.from_frame now also converts int16 and in8 to float16 and float16. Thus
helping to avoid <code>TypeError: Cannot interpret &#x27;Int16Dtype()&#x27; as a data type</code>
style errors.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="documentation-7">Documentation<a href="#documentation-7" class="hash-link" aria-label="Direct link to Documentation" title="Direct link to Documentation">​</a></h2><ul><li>Added ISSUE_TEMPLATE</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="contributors-10">Contributors<a href="#contributors-10" class="hash-link" aria-label="Direct link to Contributors" title="Direct link to Contributors">​</a></h2><p>@talgalili, @stevemandala, @SarigT</p><h1>0.3.0 (2023-01-30)</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="new-features-11">New Features<a href="#new-features-11" class="hash-link" aria-label="Direct link to New Features" title="Direct link to New Features">​</a></h2><ul><li>Added compatibility for Python 3.11 (by supporting SciPy 1.9.2) (props to
@tomwagstaff-opml for flagging this issue).</li><li>Added the <code>session-info</code> package as a dependency.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="bug-fixes-8">Bug Fixes<a href="#bug-fixes-8" class="hash-link" aria-label="Direct link to Bug Fixes" title="Direct link to Bug Fixes">​</a></h2><ul><li>Fixed pip install from source on Windows machines (props to @tomwagstaff-opml
for the bug report).</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="documentation-8">Documentation<a href="#documentation-8" class="hash-link" aria-label="Direct link to Documentation" title="Direct link to Documentation">​</a></h2><ul><li>Added <code>session_info.show()</code> outputs to the end of the three tutorials (at:
<a href="https://import-balance.org/docs/tutorials/" target="_blank" rel="noopener noreferrer">https://import-balance.org/docs/tutorials/</a>)</li><li>Misc updates to the README.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="contributors-11">Contributors<a href="#contributors-11" class="hash-link" aria-label="Direct link to Contributors" title="Direct link to Contributors">​</a></h2><p>@stevemandala, @SarigT, @talgalili</p><h1>0.2.0 (2023-01-19)</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="new-features-12">New Features<a href="#new-features-12" class="hash-link" aria-label="Direct link to New Features" title="Direct link to New Features">​</a></h2><ul><li>cli improvements:<ul><li>Add an option to set weight_trimming_mean_ratio = None for no trimming.</li><li>Add an option to set transformations to be None (i.e. no transformations).</li></ul></li><li>Add an option to adapt the title in:<ul><li>stats_and_plots.weighted_comparison_plots.plot_bar</li><li>stats_and_plots.weighted_comparison_plots.plot_hist_kde</li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="bug-fixes-9">Bug Fixes<a href="#bug-fixes-9" class="hash-link" aria-label="Direct link to Bug Fixes" title="Direct link to Bug Fixes">​</a></h2><ul><li>Fix (and simplify) balanceDF.plot to organize the order of groups (now
unadjusted/self is left, adjusted/self center, and target is on the right)</li><li>Fix plotly functions to use the red color for self when only compared to
target (since in that case it is likely unadjusted):
balance.stats_and_plots.weighted_comparisons_plots.plotly_plot_qq and
balance.stats_and_plots.weighted_comparisons_plots.plotly_plot_bar</li><li>Fix seaborn_plot_dist: output None by default (instead of axis object). Added
a return_Axes argument to control this behavior.</li><li>Fix some test_cbps tests that were failing due to non-exact matches (we made
the test less sensitive)</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="documentation-9">Documentation<a href="#documentation-9" class="hash-link" aria-label="Direct link to Documentation" title="Direct link to Documentation">​</a></h2><ul><li>New blog section, with the post:
<a href="https://import-balance.org/blog/2023/01/09/bringing-balance-to-your-data/" target="_blank" rel="noopener noreferrer">Bringing &quot;balance&quot; to your data </a></li><li>New tutorial:<ul><li><a href="https://import-balance.org/docs/tutorials/quickstart_cbps/" target="_blank" rel="noopener noreferrer"><strong>quickstart_cbps</strong></a> -
like the
<a href="https://import-balance.org/docs/tutorials/quickstart/" target="_blank" rel="noopener noreferrer"><strong>quickstart</strong></a>
tutorial, but shows how to use the CBPS algorithm and compares the results
to IPW (logistic regression with LASSO).</li><li><a href="https://import-balance.org/docs/tutorials/balance_transformations_and_formulas/" target="_blank" rel="noopener noreferrer"><strong>balance_transformations_and_formulas</strong></a> -
This tutorial showcases ways in which transformations, formulas and penalty
can be included in your pre-processing of the covariates before adjusting
for them.</li></ul></li><li>API docs:<ul><li>New: highlighting on codeblocks</li><li>a bunch of text fixes.</li></ul></li><li>Update README.md<ul><li>logo</li><li>with contributors</li><li>typo fixes (props to @zbraiterman and @luca-martial).</li></ul></li><li>Added section about &quot;Releasing a new version&quot; to CONTRIBUTING.md<ul><li>Available under
<a href="https://import-balance.org/docs/docs/contributing/#releasing-a-new-version" target="_blank" rel="noopener noreferrer">&quot;Docs/Contributing&quot;</a>
section of website</li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="misc-3">Misc<a href="#misc-3" class="hash-link" aria-label="Direct link to Misc" title="Direct link to Misc">​</a></h2><ul><li>Added automated Github Action package builds &amp; deployment to PyPi on release.<ul><li>See
<a href="https://github.com/facebookresearch/balance/blob/main/.github/workflows/release.yml" target="_blank" rel="noopener noreferrer">release.yml</a></li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="contributors-12">Contributors<a href="#contributors-12" class="hash-link" aria-label="Direct link to Contributors" title="Direct link to Contributors">​</a></h2><p>@stevemandala, @SarigT, @talgalili</p><h1>0.1.0 (2022-11-20)</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="summary">Summary<a href="#summary" class="hash-link" aria-label="Direct link to Summary" title="Direct link to Summary">​</a></h2><ul><li>balance released to the world!</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="contributors-13">Contributors<a href="#contributors-13" class="hash-link" aria-label="Direct link to Contributors" title="Direct link to Contributors">​</a></h2><p>@SarigT, @talgalili, @stevemandala</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/facebookresearch/balance/tree/main/website/docs/docs/changelog.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/docs/overview/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Overview</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/docs/general_framework/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">General Framework</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#new-features" class="table-of-contents__link toc-highlight">New Features</a></li><li><a href="#documentation" class="table-of-contents__link toc-highlight">Documentation</a></li><li><a href="#code-quality--refactoring" class="table-of-contents__link toc-highlight">Code Quality &amp; Refactoring</a></li><li><a href="#bug-fixes" class="table-of-contents__link toc-highlight">Bug Fixes</a></li><li><a href="#tests" class="table-of-contents__link toc-highlight">Tests</a></li><li><a href="#contributors" class="table-of-contents__link toc-highlight">Contributors</a></li><li><a href="#new-features-1" class="table-of-contents__link toc-highlight">New Features</a></li><li><a href="#documentation-1" class="table-of-contents__link toc-highlight">Documentation</a></li><li><a href="#bug-fixes-1" class="table-of-contents__link toc-highlight">Bug Fixes</a></li><li><a href="#new-features-2" class="table-of-contents__link toc-highlight">New Features</a></li><li><a href="#contributors-1" class="table-of-contents__link toc-highlight">Contributors</a></li><li><a href="#new-features-3" class="table-of-contents__link toc-highlight">New Features</a></li><li><a href="#bug-fixes-2" class="table-of-contents__link toc-highlight">Bug Fixes</a></li><li><a href="#tests-1" class="table-of-contents__link toc-highlight">Tests</a></li><li><a href="#documentation-2" class="table-of-contents__link toc-highlight">Documentation</a></li><li><a href="#contributors-2" class="table-of-contents__link toc-highlight">Contributors</a></li><li><a href="#new-features-4" class="table-of-contents__link toc-highlight">New Features</a></li><li><a href="#misc" class="table-of-contents__link toc-highlight">Misc</a></li><li><a href="#contributors-3" class="table-of-contents__link toc-highlight">Contributors</a></li><li><a href="#bug-fixes-3" class="table-of-contents__link toc-highlight">Bug Fixes</a></li><li><a href="#documentation-3" class="table-of-contents__link toc-highlight">Documentation</a></li><li><a href="#news" class="table-of-contents__link toc-highlight">News</a></li><li><a href="#new-features-5" class="table-of-contents__link toc-highlight">New Features</a></li><li><a href="#bug-fixes-4" class="table-of-contents__link toc-highlight">Bug Fixes</a></li><li><a href="#documentation-4" class="table-of-contents__link toc-highlight">Documentation</a></li><li><a href="#contributors-4" class="table-of-contents__link toc-highlight">Contributors</a></li><li><a href="#new-features-6" class="table-of-contents__link toc-highlight">New Features</a></li><li><a href="#misc-1" class="table-of-contents__link toc-highlight">Misc</a></li><li><a href="#documentation-5" class="table-of-contents__link toc-highlight">Documentation</a></li><li><a href="#contributors-5" class="table-of-contents__link toc-highlight">Contributors</a></li><li><a href="#new-features-7" class="table-of-contents__link toc-highlight">New Features</a></li><li><a href="#bug-fixes-5" class="table-of-contents__link toc-highlight">Bug Fixes</a></li><li><a href="#misc-2" class="table-of-contents__link toc-highlight">Misc</a></li><li><a href="#contributors-6" class="table-of-contents__link toc-highlight">Contributors</a></li><li><a href="#new-features-8" class="table-of-contents__link toc-highlight">New Features</a></li><li><a href="#contributors-7" class="table-of-contents__link toc-highlight">Contributors</a></li><li><a href="#new-features-9" class="table-of-contents__link toc-highlight">New Features</a></li><li><a href="#documentation-6" class="table-of-contents__link toc-highlight">Documentation</a></li><li><a href="#contributors-8" class="table-of-contents__link toc-highlight">Contributors</a></li><li><a href="#new-features-10" class="table-of-contents__link toc-highlight">New Features</a></li><li><a href="#bug-fixes-6" class="table-of-contents__link toc-highlight">Bug Fixes</a></li><li><a href="#contributors-9" class="table-of-contents__link toc-highlight">Contributors</a></li><li><a href="#bug-fixes-7" class="table-of-contents__link toc-highlight">Bug Fixes</a></li><li><a href="#documentation-7" class="table-of-contents__link toc-highlight">Documentation</a></li><li><a href="#contributors-10" class="table-of-contents__link toc-highlight">Contributors</a></li><li><a href="#new-features-11" class="table-of-contents__link toc-highlight">New Features</a></li><li><a href="#bug-fixes-8" class="table-of-contents__link toc-highlight">Bug Fixes</a></li><li><a href="#documentation-8" class="table-of-contents__link toc-highlight">Documentation</a></li><li><a href="#contributors-11" class="table-of-contents__link toc-highlight">Contributors</a></li><li><a href="#new-features-12" class="table-of-contents__link toc-highlight">New Features</a></li><li><a href="#bug-fixes-9" class="table-of-contents__link toc-highlight">Bug Fixes</a></li><li><a href="#documentation-9" class="table-of-contents__link toc-highlight">Documentation</a></li><li><a href="#misc-3" class="table-of-contents__link toc-highlight">Misc</a></li><li><a href="#contributors-12" class="table-of-contents__link toc-highlight">Contributors</a></li><li><a href="#summary" class="table-of-contents__link toc-highlight">Summary</a></li><li><a href="#contributors-13" class="table-of-contents__link toc-highlight">Contributors</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Legal</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://opensource.fb.com/legal/privacy/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://opensource.fb.com/legal/terms/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Terms<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://opensource.fb.com/legal/data-policy/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Data Policy<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://opensource.fb.com/legal/cookie-policy/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Cookie Policy<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://opensource.fb.com" rel="noopener noreferrer" class="footerLogoLink_BH7S"><img src="/img/meta_opensource_logo_negative.svg" alt="Meta Open Source Logo" class="themedImage_ToTc themedImage--light_HNdA footer__logo"><img src="/img/meta_opensource_logo_negative.svg" alt="Meta Open Source Logo" class="themedImage_ToTc themedImage--dark_i4oU footer__logo"></a></div><div class="footer__copyright">
        Copyright © 2025 Meta Platforms, Inc. Built with Docusaurus.<br>
        Documentation Content Licensed Under <a href="https://creativecommons.org/licenses/by/4.0/">CC-BY-4.0</a>.<br></div></div></div></footer></div>
<script src="/assets/js/runtime~main.642e809b.js"></script>
<script src="/assets/js/main.d5121f8e.js"></script>
</body>
</html>